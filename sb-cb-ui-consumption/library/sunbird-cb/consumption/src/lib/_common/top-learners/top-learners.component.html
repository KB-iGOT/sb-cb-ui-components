<div class="flex flex-center">
    <div>
        <div class="title-border"></div>
        <div class="title" [style.color]="objectData?.titleFontColor">{{objectData?.title}} ({{month}})</div>
        <div class="title-border"></div>
    </div>    
</div>
<div class="top-learners-container" *ngIf="!loading && results.length">
    <div class="w-full margin-bottom-l margin-top-l">
        <div class="flex gap-3">
            <div *ngFor="let obj of results; let i=index" class="flex-container">
                <div class="flex-item user-box">
                    <div class="flex gap-3 img-name-sec">
                        <div class="flex gap-3">
                            <div class="profile-pic" *ngIf="obj?.profile_image">
                                <img [src]="obj?.profile_image" class="user-image"/>
                            </div>
                            <div class="initial" *ngIf="!obj?.profile_image"
                                [style.backgroundColor]="colors[i]"
                                >
                                {{createInititals(obj?.fullname)}}
                            </div>
                            <div class="flex flex-col gap-1">
                                <div class="name-sec" *ngIf="obj?.fullname?.length >= 24"
                                    #tooltip="matTooltip"
                                    [matTooltipClass]="'below'"
                                    matTooltip="{{obj?.fullname}}"
                                    [matTooltipPosition]="'below'">
                                        {{obj?.fullname}}
                                </div>
                                <div class="name-sec" *ngIf="obj?.fullname?.length < 24">
                                    {{obj?.fullname}}
                                </div>
                                <div class="designation-sec" *ngIf="obj?.fullname?.length >= 32"
                                    #tooltip="matTooltip"
                                    [matTooltipClass]="'below'"
                                    matTooltip="{{obj?.designation}}"
                                    [matTooltipPosition]="'below'">
                                        {{obj?.designation}}
                                </div>
                                <div class="designation-sec"  *ngIf="obj?.designation?.length < 32">{{obj?.designation}}</div>
                                <div class="designation-sec" *ngIf="obj?.org_name?.length >= 32"
                                    #tooltip="matTooltip"
                                    [matTooltipClass]="'below'"
                                    matTooltip="{{obj?.org_name}}"
                                    [matTooltipPosition]="'below'">
                                        {{obj?.org_name}}
                                </div>
                                <div class="designation-sec" *ngIf="obj?.org_name?.length < 32">{{obj?.org_name}}</div>
                            </div>
                        </div>
                        <div class="flex gap-3">                                                       
                            <div class="rank-sec">{{getRank(+obj?.row_num)}}</div>
                        </div>                        
                    </div>
                    <div class="flex gap-2 kp-section">
                        <div class="kp-icon"><img [src]="objectData?.kpIcon" class="kp-image"/></div>
                        <div class="points">{{obj?.total_points || 0}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="top-learners-container" *ngIf="!loading && results.length === 0">
    <div class="margin-top-l noData">
        No data
    </div>
</div>

<ng-container>
    <div class="top-learners-container" *ngIf="loading">
        <div class="w-full margin-bottom-l margin-top-l">
            <div class="flex gap-3">
                <div *ngFor="let obj of [1,2,3]" class="flex-container">
                    <div class="flex-item user-box">
                        <div class="flex gap-3 img-name-sec">
                            <div class="flex gap-3">
                                <div class="profile-pic">
                                    <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'44px'"
                        [height]="'44px'"></sb-uic-skeleton-loader>
                                </div>
                                <div class="flex flex-col gap-1">
                                    <div class="name-sec">
                                        <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'200px'"
                                        [height]="'24px'"></sb-uic-skeleton-loader>
                                    </div>
                                    <div class="designation-sec">
                                        <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'200px'"
                                        [height]="'16px'"></sb-uic-skeleton-loader>
                                    </div>
                                    <div class="designation-sec">
                                        <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'200px'"
                                        [height]="'16px'"></sb-uic-skeleton-loader>
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-3">                                                       
                                <div class="rank-sec">
                                    <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'44px'"
                                        [height]="'44px'"></sb-uic-skeleton-loader>
                                </div>
                            </div>                        
                        </div>
                        <div class="flex gap-2 kp-section">
                            <div class="kp-icon">
                                <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'32px'"
                                [height]="'32px'"></sb-uic-skeleton-loader>   
                            </div>
                            <div class="points">
                                <sb-uic-skeleton-loader [bindingClass]="'flex rounded objIcon'" [width]="'32px'"
                                        [height]="'32px'"></sb-uic-skeleton-loader>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>